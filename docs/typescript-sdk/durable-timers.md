---
sidebar_position: 8
description: "Let your service sleep for a specified time, guaranteed by Restate."
---

# Durable timers

Restate provides you with durable timers.
A service can either sleep for a specified amount of time,
or can sleep or pause until it is woken up by another service (called awakeable).
Restate stores and keeps track of your timers so that your application sleeps the right duration, even across failures and restarts.

:::tip Did you know?
During a sleep, Restate suspends the invocation to free up resources for other service invocations.
This feature is particularly beneficial for AWS Lambda deployments.
When the service sleeps, costs are reduced to zero!
:::
:::danger
Don't use other timer implementations or sleep functions in combination with Restate.
Otherwise, you will not have any of the benefits.
:::

## Sleep
To sleep in a Restate application, do the following:

```typescript
const duration = 1000;
await restateContext.sleep(duration);
```


## Awakeables
Another way of pausing an invocation is via awakeables.
Awakeables allow for an invocation to be paused while waiting for an external process to return an ID that was generated by the SDK. 
Once the ID is received by the runtime, it signals the invocation to continue processing. 
The ID specifies the particular service and invocation that should be reactivated,and it can be transmitted by an external process or another Restate service. This design pattern is also referred to as the callback (task token) pattern.

:::info
Currently, in the latest release, only Restate services have the capability to complete awakeables.
If you want to enable an external system to awaken a service,
you must introduce a Restate service in the middle
to translate the incoming external request and trigger the completion of the awakeable.
In next versions, we will improve this feature to work better with external non-Restate systems.
:::

[//]: # (TODO finish the description)

To pause the invocation, do the following:

```typescript
const result = await ctx.awakeable<string>();
```
Now the invocation will be suspended until another service or process sends the ID to the runtime to complete the awakeable.
Thereby, waking up the service. 

Complete an awakeable as follows: 

```typescript
const awakeableIdentifier = {
    serviceName: "Greeter",
    instanceKey: Buffer.from("123"),
    invocationId: Buffer.from("abcd"),
    entryIndex: 1
};
ctx.completeAwakeable(awakeableIdentifier, "hello");
```

You create an object that contains the service name,
instance key, invocation ID, and entry index of the service that you want to wake up.
Then, call `completeAwakeable()` on the Restate context and supply it the identifier together with your message, as follows:

[//]: # (TODO Update this after improving awakeables in the Typescript SDK)
